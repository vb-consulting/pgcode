/*build: 2020-05-07 20:21:16:967, version: 6a8f, copyright VB-Consulting*/
(function(){"use strict";const e=this;"object"==typeof global&&global;var t;!function(t){t.global=e;class i{constructor(){this._detected=!1,this._isWindows=!1,this._isWebWorker=!1}get isWindows(){return this._detect(),this._isWindows}get isWebWorker(){return this._detect(),this._isWebWorker}_detect(){this._detected||(this._detected=!0,this._isWindows=i._isWindows(),this._isWebWorker="function"==typeof t.global.importScripts)}static _isWindows(){return!!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Windows")>=0)}}t.Environment=i}(t||(t={})),function(e){class t{constructor(e,t,i){this.type=e,this.detail=t,this.timestamp=i}}e.LoaderEvent=t;e.LoaderEventRecorder=class{constructor(e){this._events=[new t(1,"",e)]}record(i,r){this._events.push(new t(i,r,e.Utilities.getHighPerformanceTimestamp()))}getEvents(){return this._events}};class i{record(e,t){}getEvents(){return[]}}i.INSTANCE=new i,e.NullLoaderEventRecorder=i}(t||(t={})),function(e){class t{static fileUriToFilePath(e,t){if(t=decodeURI(t).replace(/%23/g,"#"),e){if(/^file:\/\/\//.test(t))return t.substr(8);if(/^file:\/\//.test(t))return t.substr(5)}else if(/^file:\/\//.test(t))return t.substr(7);return t}static startsWith(e,t){return e.length>=t.length&&e.substr(0,t.length)===t}static endsWith(e,t){return e.length>=t.length&&e.substr(e.length-t.length)===t}static containsQueryString(e){return/^[^\#]*\?/gi.test(e)}static isAbsolutePath(e){return/^((http:\/\/)|(https:\/\/)|(file:\/\/)|(\/))/.test(e)}static forEachProperty(e,t){if(e){let i;for(i in e)e.hasOwnProperty(i)&&t(i,e[i])}}static isEmpty(e){let i=!0;return t.forEachProperty(e,()=>{i=!1}),i}static recursiveClone(e){if(!e||"object"!=typeof e)return e;let i=Array.isArray(e)?[]:{};return t.forEachProperty(e,(e,r)=>{i[e]=r&&"object"==typeof r?t.recursiveClone(r):r}),i}static generateAnonymousModule(){return"===anonymous"+t.NEXT_ANONYMOUS_ID+++"==="}static isAnonymousModule(e){return t.startsWith(e,"===anonymous")}static getHighPerformanceTimestamp(){return this.PERFORMANCE_NOW_PROBED||(this.PERFORMANCE_NOW_PROBED=!0,this.HAS_PERFORMANCE_NOW=e.global.performance&&"function"==typeof e.global.performance.now),this.HAS_PERFORMANCE_NOW?e.global.performance.now():Date.now()}}t.NEXT_ANONYMOUS_ID=1,t.PERFORMANCE_NOW_PROBED=!1,t.HAS_PERFORMANCE_NOW=!1,e.Utilities=t}(t||(t={})),function(e){class t{static validateConfigurationOptions(t){return"string"!=typeof(t=t||{}).baseUrl&&(t.baseUrl=""),"boolean"!=typeof t.isBuild&&(t.isBuild=!1),"object"!=typeof t.paths&&(t.paths={}),"object"!=typeof t.config&&(t.config={}),void 0===t.catchError&&(t.catchError=!1),"string"!=typeof t.urlArgs&&(t.urlArgs=""),"function"!=typeof t.onError&&(t.onError=function(e){return"load"===e.errorCode?(console.error('Loading "'+e.moduleId+'" failed'),console.error("Detail: ",e.detail),e.detail&&e.detail.stack&&console.error(e.detail.stack),console.error("Here are the modules that depend on it:"),void console.error(e.neededBy)):"factory"===e.errorCode?(console.error('The factory method of "'+e.moduleId+'" has thrown an exception'),console.error(e.detail),void(e.detail&&e.detail.stack&&console.error(e.detail.stack))):void 0}),"object"==typeof t.ignoreDuplicateModules&&Array.isArray(t.ignoreDuplicateModules)||(t.ignoreDuplicateModules=[]),t.baseUrl.length>0&&(e.Utilities.endsWith(t.baseUrl,"/")||(t.baseUrl+="/")),"string"!=typeof t.cspNonce&&(t.cspNonce=""),Array.isArray(t.nodeModules)||(t.nodeModules=[]),t}static mergeConfigurationOptions(i=null,r=null){let o=e.Utilities.recursiveClone(r||{});return e.Utilities.forEachProperty(i,(t,i)=>{"ignoreDuplicateModules"===t&&void 0!==o.ignoreDuplicateModules?o.ignoreDuplicateModules=o.ignoreDuplicateModules.concat(i):"paths"===t&&void 0!==o.paths?e.Utilities.forEachProperty(i,(e,t)=>o.paths[e]=t):"config"===t&&void 0!==o.config?e.Utilities.forEachProperty(i,(e,t)=>o.config[e]=t):o[t]=e.Utilities.recursiveClone(i)}),t.validateConfigurationOptions(o)}}e.ConfigurationOptionsUtil=t;class i{constructor(e,i){this._env=e,this.options=t.mergeConfigurationOptions(i),this._createIgnoreDuplicateModulesMap(),this._createSortedPathsRules()}_createIgnoreDuplicateModulesMap(){this.ignoreDuplicateModulesMap={};for(let e=0;e<this.options.ignoreDuplicateModules.length;e++)this.ignoreDuplicateModulesMap[this.options.ignoreDuplicateModules[e]]=!0}_createSortedPathsRules(){this.sortedPathsRules=[],e.Utilities.forEachProperty(this.options.paths,(e,t)=>{Array.isArray(t)?this.sortedPathsRules.push({from:e,to:t}):this.sortedPathsRules.push({from:e,to:[t]})}),this.sortedPathsRules.sort((e,t)=>t.from.length-e.from.length)}cloneAndMerge(e){return new i(this._env,t.mergeConfigurationOptions(e,this.options))}getOptionsLiteral(){return this.options}ihjslyPaths(t){if(t.endsWith(".html"))return[t];if(t.endsWith("__temp"))return[t.substring(0,t.length-6)];let i;for(let r=0,o=this.sortedPathsRules.length;r<o;r++)if(i=this.sortedPathsRules[r],e.Utilities.startsWith(t,i.from)){let e=[];for(let r=0,o=i.to.length;r<o;r++)e.push(i.to[r]+t.substr(i.from.length));return e}return[t]}_addUrlArgsToUrl(t){return e.Utilities.containsQueryString(t)?t+"&"+this.options.urlArgs:t+"?"+this.options.urlArgs}_addUrlArgsIfNecessaryToUrl(e){return this.options.urlArgs?this._addUrlArgsToUrl(e):e}_addUrlArgsIfNecessaryToUrls(e){if(this.options.urlArgs)for(let t=0,i=e.length;t<i;t++)e[t]=this._addUrlArgsToUrl(e[t]);return e}moduleIdToPaths(t){let i,r=t;if(e.Utilities.endsWith(r,".js")||e.Utilities.isAbsolutePath(r))e.Utilities.endsWith(r,".js")||e.Utilities.containsQueryString(r)||(r+=".js"),i=[r];else for(let t=0,o=(i=this.ihjslyPaths(r)).length;t<o;t++)this.isBuild()&&"empty:"===i[t]||(e.Utilities.isAbsolutePath(i[t])||(i[t]=this.options.baseUrl+i[t]),e.Utilities.endsWith(i[t],".js")||e.Utilities.containsQueryString(i[t])||(i[t]=i[t]+".js"));return this._addUrlArgsIfNecessaryToUrls(i)}requireToUrl(t){let i=t;return e.Utilities.isAbsolutePath(i)||(i=this.ihjslyPaths(i)[0],e.Utilities.isAbsolutePath(i)||(i=this.options.baseUrl+i)),this._addUrlArgsIfNecessaryToUrl(i)}isBuild(){return this.options.isBuild}isDuplicateMessageIgnoredFor(e){return this.ignoreDuplicateModulesMap.hasOwnProperty(e)}getConfigForModule(e){if(this.options.config)return this.options.config[e]}shouldCatchError(){return this.options.catchError}shouldRecordStats(){return this.options.recordStats}onError(e){this.options.onError(e)}}e.Configuration=i}(t||(t={})),function(e){class t{constructor(e){this._env=e,this._scriptLoader=null,this._callbackMap={}}load(e,t,o,n){this._scriptLoader||(this._scriptLoader=this._env.isWebWorker?new r:new i);let s={callback:o,errorback:n};this._callbackMap.hasOwnProperty(t)?this._callbackMap[t].push(s):(this._callbackMap[t]=[s],this._scriptLoader.load(e,t,()=>this.triggerCallback(t),e=>this.triggerErrorback(t,e)))}triggerCallback(e){let t=this._callbackMap[e];delete this._callbackMap[e];for(let e=0;e<t.length;e++)t[e].callback()}triggerErrorback(e,t){let i=this._callbackMap[e];delete this._callbackMap[e];for(let e=0;e<i.length;e++)i[e].errorback(t)}}class i{attachListeners(e,t,i){let r=()=>{e.removeEventListener("load",o),e.removeEventListener("error",n)},o=e=>{r(),t()},n=e=>{r(),i(e)};e.addEventListener("load",o),e.addEventListener("error",n)}load(e,t,i,r){let o=document.createElement("script");o.setAttribute("async","async"),o.setAttribute("type","text/javascript"),this.attachListeners(o,i,r),o.setAttribute("src",t);const{cspNonce:n}=e.getConfig().getOptionsLiteral();n&&o.setAttribute("nonce",n),document.getElementsByTagName("head")[0].appendChild(o)}}class r{load(e,t,i,r){try{importScripts(t),i()}catch(e){r(e)}}}e.createScriptLoader=function(e){return new t(e)}}(t||(t={})),function(e){class t{constructor(e){let t=e.lastIndexOf("/");this.fromModulePath=-1!==t?e.substr(0,t+1):""}static _normalizeModuleId(e){let t,i=e;for(t=/\/\.\//;t.test(i);)i=i.replace(t,"/");for(i=i.replace(/^\.\//g,""),t=/\/(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//;t.test(i);)i=i.replace(t,"/");return i=i.replace(/^(([^\/])|([^\/][^\/\.])|([^\/\.][^\/])|([^\/][^\/][^\/]+))\/\.\.\//,"")}resolveModule(i){let r=i;return e.Utilities.isAbsolutePath(r)||(e.Utilities.startsWith(r,"./")||e.Utilities.startsWith(r,"../"))&&(r=t._normalizeModuleId(this.fromModulePath+r)),r}}t.ROOT=new t(""),e.ModuleIdResolver=t;class i{constructor(e,t,i,r,o,n){this.id=e,this.strId=t,this.dependencies=i,this._callback=r,this._errorback=o,this.moduleIdResolver=n,this.exports={},this.exportsPassedIn=!1,this.unresolvedDependenciesCount=this.dependencies.length,this._isComplete=!1}static _safeInvokeFunction(t,i){try{return{returnedValue:t.apply(e.global,i),producedError:null}}catch(e){return{returnedValue:null,producedError:e}}}static _invokeFactory(t,i,r,o){return t.isBuild()&&!e.Utilities.isAnonymousModule(i)?{returnedValue:null,producedError:null}:t.shouldCatchError()?this._safeInvokeFunction(r,o):{returnedValue:r.apply(e.global,o),producedError:null}}complete(t,r,o){this._isComplete=!0;let n=null;if(this._callback)if("function"==typeof this._callback){t.record(21,this.strId);let s=i._invokeFactory(r,this.strId,this._callback,o);n=s.producedError,t.record(22,this.strId),n||void 0===s.returnedValue||this.exportsPassedIn&&!e.Utilities.isEmpty(this.exports)||(this.exports=s.returnedValue)}else this.exports=this._callback;n&&r.onError({errorCode:"factory",moduleId:this.strId,detail:n}),this.dependencies=null,this._callback=null,this._errorback=null,this.moduleIdResolver=null}onDependencyError(e){return!!this._errorback&&(this._errorback(e),!0)}isComplete(){return this._isComplete}}e.Module=i;class r{constructor(){this._nextId=0,this._strModuleIdToIntModuleId=new Map,this._intModuleIdToStrModuleId=[],this.getModuleId("exports"),this.getModuleId("module"),this.getModuleId("require")}getMaxModuleId(){return this._nextId}getModuleId(e){let t=this._strModuleIdToIntModuleId.get(e);return void 0===t&&(t=this._nextId++,this._strModuleIdToIntModuleId.set(e,t),this._intModuleIdToStrModuleId[t]=e),t}getStrModuleId(e){return this._intModuleIdToStrModuleId[e]}}class o{constructor(e){this.id=e}}o.EXPORTS=new o(0),o.MODULE=new o(1),o.REQUIRE=new o(2),e.RegularDependency=o;class n{constructor(e,t,i){this.id=e,this.pluginId=t,this.pluginParam=i}}e.PluginDependency=n;class s{constructor(t,i,o,n,s=0){this._env=t,this._scriptLoader=i,this._loaderAvailableTimestamp=s,this._defineFunc=o,this._requireFunc=n,this._moduleIdProvider=new r,this._config=new e.Configuration(this._env),this._modules2=[],this._knownModules2=[],this._inverseDependencies2=[],this._inversePluginDependencies2=new Map,this._currentAnnonymousDefineCall=null,this._recorder=null,this._buildInfoPath=[],this._buildInfoDefineStack=[],this._buildInfoDependencies=[]}reset(){return new s(this._env,this._scriptLoader,this._defineFunc,this._requireFunc,this._loaderAvailableTimestamp)}getGlobalAMDDefineFunc(){return this._defineFunc}getGlobalAMDRequireFunc(){return this._requireFunc}static _findRelevantLocationInStack(e,t){let i=e=>e.replace(/\\/g,"/"),r=i(e),o=t.split(/\n/);for(let e=0;e<o.length;e++){let t=o[e].match(/(.*):(\d+):(\d+)\)?$/);if(t){let e=t[1],o=t[2],n=t[3],s=Math.max(e.lastIndexOf(" ")+1,e.lastIndexOf("(")+1);if((e=i(e=e.substr(s)))===r){let e={line:parseInt(o,10),col:parseInt(n,10)};return 1===e.line&&(e.col-="(function (require, define, __filename, __dirname) { ".length),e}}}throw new Error("Could not correlate define call site for needle "+e)}getBuildInfo(){if(!this._config.isBuild())return null;let e=[],t=0;for(let i=0,r=this._modules2.length;i<r;i++){let r=this._modules2[i];if(!r)continue;let o=this._buildInfoPath[r.id]||null,n=this._buildInfoDefineStack[r.id]||null,l=this._buildInfoDependencies[r.id];e[t++]={id:r.strId,path:o,defineLocation:o&&n?s._findRelevantLocationInStack(o,n):null,dependencies:l,shim:null,exports:r.exports}}return e}getRecorder(){return this._recorder||(this._config.shouldRecordStats()?this._recorder=new e.LoaderEventRecorder(this._loaderAvailableTimestamp):this._recorder=e.NullLoaderEventRecorder.INSTANCE),this._recorder}getLoaderEvents(){return this.getRecorder().getEvents()}enqueueDefineAnonymousModule(e,t){if(null!==this._currentAnnonymousDefineCall)throw new Error("Can only have one anonymous define call per script file");let i=null;this._config.isBuild()&&(i=new Error("StackLocation").stack),this._currentAnnonymousDefineCall={stack:i,dependencies:e,callback:t}}defineModule(e,r,o,n,s,l=new t(e)){let d=this._moduleIdProvider.getModuleId(e);if(this._modules2[d])return void(this._config.isDuplicateMessageIgnoredFor(e)||console.warn("Duplicate definition of module '"+e+"'"));let u=new i(d,e,this._normalizeDependencies(r,l),o,n,l);this._modules2[d]=u,this._config.isBuild()&&(this._buildInfoDefineStack[d]=s,this._buildInfoDependencies[d]=u.dependencies.map(e=>this._moduleIdProvider.getStrModuleId(e.id))),this._resolve(u)}_normalizeDependency(e,t){if("exports"===e)return o.EXPORTS;if("module"===e)return o.MODULE;if("require"===e)return o.REQUIRE;let i=e.indexOf("!");if(i>=0){let r=t.resolveModule(e.substr(0,i)),o=t.resolveModule(e.substr(i+1)),s=this._moduleIdProvider.getModuleId(r+"!"+o),l=this._moduleIdProvider.getModuleId(r);return new n(s,l,o)}return new o(this._moduleIdProvider.getModuleId(t.resolveModule(e)))}_normalizeDependencies(e,t){let i=[],r=0;for(let o=0,n=e.length;o<n;o++)i[r++]=this._normalizeDependency(e[o],t);return i}_relativeRequire(t,i,r,o){if("string"==typeof i)return this.synchronousRequire(i,t);this.defineModule(e.Utilities.generateAnonymousModule(),i,r,o,null,t)}synchronousRequire(e,i=new t(e)){let r=this._normalizeDependency(e,i),o=this._modules2[r.id];if(!o)throw new Error("Check dependency list! Synchronous require cannot resolve module '"+e+"'. This is the first mention of this module!");if(!o.isComplete())throw new Error("Check dependency list! Synchronous require cannot resolve module '"+e+"'. This module has not been resolved completely yet.");return o.exports}configure(t,i){let r=this._config.shouldRecordStats();this._config=i?new e.Configuration(this._env,t):this._config.cloneAndMerge(t),this._config.shouldRecordStats()&&!r&&(this._recorder=null)}getConfig(){return this._config}_onLoad(e){if(null!==this._currentAnnonymousDefineCall){let t=this._currentAnnonymousDefineCall;this._currentAnnonymousDefineCall=null,this.defineModule(this._moduleIdProvider.getStrModuleId(e),t.dependencies,t.callback,null,t.stack)}}_createLoadError(e,t){return{errorCode:"load",moduleId:this._moduleIdProvider.getStrModuleId(e),neededBy:(this._inverseDependencies2[e]||[]).map(e=>this._moduleIdProvider.getStrModuleId(e)),detail:t}}_onLoadError(e,t){let i=this._createLoadError(e,t),r=[];for(let e=0,t=this._moduleIdProvider.getMaxModuleId();e<t;e++)r[e]=!1;let o=!1,n=[];for(n.push(e),r[e]=!0;n.length>0;){let e=n.shift(),t=this._modules2[e];t&&(o=t.onDependencyError(i)||o);let s=this._inverseDependencies2[e];if(s)for(let e=0,t=s.length;e<t;e++){let t=s[e];r[t]||(n.push(t),r[t]=!0)}}o||this._config.onError(i)}_hasDependencyPath(e,t){let i=this._modules2[e];if(!i)return!1;let r=[];for(let e=0,t=this._moduleIdProvider.getMaxModuleId();e<t;e++)r[e]=!1;let o=[];for(o.push(i),r[e]=!0;o.length>0;){let e=o.shift().dependencies;if(e)for(let i=0,n=e.length;i<n;i++){let n=e[i];if(n.id===t)return!0;let s=this._modules2[n.id];s&&!r[n.id]&&(r[n.id]=!0,o.push(s))}}return!1}_findCyclePath(e,t,i){if(e===t||50===i)return[e];let r=this._modules2[e];if(!r)return null;let o=r.dependencies;for(let r=0,n=o.length;r<n;r++){let n=this._findCyclePath(o[r].id,t,i+1);if(null!==n)return n.push(e),n}return null}_createRequire(e){let t=(t,i,r)=>this._relativeRequire(e,t,i,r);return t.toUrl=(t=>this._config.requireToUrl(e.resolveModule(t))),t.getStats=(()=>this.getLoaderEvents()),t}_loadModule(e){if(this._modules2[e]||this._knownModules2[e])return;this._knownModules2[e]=!0;let t=this._moduleIdProvider.getStrModuleId(e);if(this._config.options._modules){let e=t.replace("__temp",""),i=this._config.options._modules[e]||this._config.options._modules[this._config.options.baseUrl+e];if(i)return void this.defineModule(t,i[0],i[1],null,null)}let i=this._config.moduleIdToPaths(t),r=-1,o=t=>{if(++r>=i.length)this._onLoadError(e,t);else{let t=i[r],n=this.getRecorder();if(this._config.isBuild()&&"empty:"===t)return this._buildInfoPath[e]=t,this.defineModule(this._moduleIdProvider.getStrModuleId(e),[],null,null,null),void this._onLoad(e);n.record(10,t),this._scriptLoader.load(this,t,()=>{this._config.isBuild()&&(this._buildInfoPath[e]=t),n.record(11,t),this._onLoad(e)},e=>{n.record(12,t),o(e)})}};o(null)}_loadPluginDependency(e,i){if(this._modules2[i.id]||this._knownModules2[i.id])return;this._knownModules2[i.id]=!0;let r=e=>{this.defineModule(this._moduleIdProvider.getStrModuleId(i.id),[],e,null,null)};r.error=(e=>{this._config.onError(this._createLoadError(i.id,e))}),e.load(i.pluginParam,this._createRequire(t.ROOT),r,this._config.getOptionsLiteral())}_resolve(e){let t=e.dependencies;for(let i=0,r=t.length;i<r;i++){let r=t[i];if(r===o.EXPORTS){e.exportsPassedIn=!0,e.unresolvedDependenciesCount--;continue}if(r===o.MODULE){e.unresolvedDependenciesCount--;continue}if(r===o.REQUIRE){e.unresolvedDependenciesCount--;continue}let s=this._modules2[r.id];if(s&&s.isComplete())e.unresolvedDependenciesCount--;else if(this._hasDependencyPath(r.id,e.id)){console.warn("There is a dependency cycle between '"+this._moduleIdProvider.getStrModuleId(r.id)+"' and '"+this._moduleIdProvider.getStrModuleId(e.id)+"'. The cyclic path follows:");let t=this._findCyclePath(r.id,e.id,0);t.reverse(),t.push(r.id),console.warn(t.map(e=>this._moduleIdProvider.getStrModuleId(e)).join(" => \n")),e.unresolvedDependenciesCount--}else if(this._inverseDependencies2[r.id]=this._inverseDependencies2[r.id]||[],this._inverseDependencies2[r.id].push(e.id),r instanceof n){let e=this._modules2[r.pluginId];if(e&&e.isComplete()){this._loadPluginDependency(e.exports,r);continue}let t=this._inversePluginDependencies2.get(r.pluginId);t||(t=[],this._inversePluginDependencies2.set(r.pluginId,t)),t.push(r),this._loadModule(r.pluginId)}else this._loadModule(r.id)}0===e.unresolvedDependenciesCount&&this._onModuleComplete(e)}_onModuleComplete(e){let t=this.getRecorder();if(e.isComplete())return;let i=e.dependencies,r=[];for(let t=0,n=i.length;t<n;t++){let n=i[t];if(n===o.EXPORTS){r[t]=e.exports;continue}if(n===o.MODULE){r[t]={id:e.strId,config:()=>this._config.getConfigForModule(e.strId)};continue}if(n===o.REQUIRE){r[t]=this._createRequire(e.moduleIdResolver);continue}let s=this._modules2[n.id];s?r[t]=s.exports:r[t]=null}e.complete(t,this._config,r);let n=this._inverseDependencies2[e.id];if(this._inverseDependencies2[e.id]=null,n)for(let e=0,t=n.length;e<t;e++){let t=n[e],i=this._modules2[t];i.unresolvedDependenciesCount--,0===i.unresolvedDependenciesCount&&this._onModuleComplete(i)}let s=this._inversePluginDependencies2.get(e.id);if(s){this._inversePluginDependencies2.delete(e.id);for(let t=0,i=s.length;t<i;t++)this._loadPluginDependency(e.exports,s[t])}}}e.ModuleManager=s}(t||(t={})),function(e){const t=new e.Environment;let i=null;const r=function(e,t,r){"string"!=typeof e&&(r=t,t=e,e=null),"object"==typeof t&&Array.isArray(t)||(r=t,t=null),t||(t=["require","exports","module"]),e?i.defineModule(e,t,r,null,null):i.enqueueDefineAnonymousModule(t,r)};r.amd={jQuery:!0};const o=function(e,t=!1){i.configure(e,t)},n=function(){if(1===arguments.length){if(arguments[0]instanceof Object&&!Array.isArray(arguments[0]))return void o(arguments[0]);if("string"==typeof arguments[0])return i.synchronousRequire(arguments[0])}if(2!==arguments.length&&3!==arguments.length||!Array.isArray(arguments[0]))throw new Error("Unrecognized require call");i.defineModule(e.Utilities.generateAnonymousModule(),arguments[0],arguments[1],arguments[2],null)};function s(){if(void 0!==e.global.require||"undefined"!=typeof require){const t=e.global.require||require;if("function"==typeof t&&"function"==typeof t.resolve){const r=function(e){i.getRecorder().record(33,e);try{return t(e)}finally{i.getRecorder().record(34,e)}};e.global.nodeRequire=r,n.nodeRequire=r,n.__$__nodeRequire=r}}e.global.require=n,e.global.define=r}n.config=o,n.getConfig=function(){return i.getConfig().getOptionsLiteral()},n.reset=function(){i=i.reset()},n.getBuildInfo=function(){return i.getBuildInfo()},n.getStats=function(){return i.getLoaderEvents()},n.define=function(){return r.apply(null,arguments)},e.init=s,"function"==typeof e.global.define&&e.global.define.amd||(i=new e.ModuleManager(t,e.createScriptLoader(t),r,n,e.Utilities.getHighPerformanceTimestamp()),void 0!==e.global.require&&"function"!=typeof e.global.require&&n.config(e.global.require),function(){return r.apply(null,arguments)}.amd=r.amd,"undefined"==typeof doNotInitLoader&&s())}(t||(t={}))}).call(window); require.config({_modules:{'js/extensions/apply': [["js/extensions/test-proto"],e=>{let t,n=(t,n,o=!1)=>{t="string"==typeof t?window[t]:t,e(t,[n]),t.prototype[n]="NodeList"===t||"HTMLCollection"===t||o?function(...e){for(let t of this)t[n](...e);return this}:HTMLElement.prototype[n]},o=(e,t,o=!1)=>{for(let s of t)n(e,s,o)};return{loadExtensions(e){let n=[];for(let[t,o]of Object.entries(e))n.push(...o.map(e=>"js/extensions/"+t+"/"+e));return new Promise(o=>require(n,()=>{t=Object.assign(t||{},e),o()}))},applyExtensions:o,applyAllExtensions:(e,n,s=!1)=>{o(e,t[n],s)},applyExtensionsExcept:(e,n,s,i=!1)=>{o(e,t[n].filter(e=>!s.includes(e)),i)}}}],'js/extensions/html': [[],()=>{const e=e=>{let t=document.createElement("template");return t.innerHTML=e.trim(),t},t=(e,t,n)=>{let r="object"==typeof e?document.createElement(e.toString()):document.createElement(e);return t&&(r.id=t),n&&r.html(n),r};return{tagToElement:t,strToElement:t=>e(t).content.firstChild,strToElements:t=>e(t).content.childNodes,stripHtml:e=>{var n=t("div");return n.innerHTML=e,n.textContent||n.innerText||""}}}],'js/extensions/HTMLElement/addClass': [["js/extensions/test-proto"],s=>{s(HTMLElement,["addClass"]),HTMLElement.prototype.addClass=function(s){return this.classList?this.classList.add(s):this.className+=` ${s}`,this}}],'js/extensions/HTMLElement/appendElement': [["js/extensions/test-proto"],e=>{e(HTMLElement,["appendElement"]),HTMLElement.prototype.appendElement=function(e){return this.appendChild(e),this}}],'js/extensions/HTMLElement/appendElementTo': [["js/extensions/test-proto"],e=>{e(HTMLElement,["appendElementTo"]),HTMLElement.prototype.appendElementTo=function(e){return e.append(this),this}}],'js/extensions/HTMLElement/attr': [["js/extensions/test-proto"],t=>{t(HTMLElement,["attr"]),HTMLElement.prototype.attr=function(t,e,i){return void 0===e?this.getAttribute(t):(!1===i?this.removeAttribute(t):this.setAttribute(t,e),this)}}],'js/extensions/HTMLElement/clone': [["js/extensions/test-proto","js/extensions/HTMLElement/css"],e=>{e(HTMLElement,["clone"]),HTMLElement.prototype.clone=function(e){const t=this.cloneNode(e);return t._styles=this._styles,t._data=this._data,t}}],'js/extensions/HTMLElement/css': [["js/extensions/test-proto","js/extensions/String/toCamelCase"],s=>{s(HTMLElement,["css","_styles"]),HTMLElement.prototype.css=function(s,t){if(!this._styles){this._styles={};const s=window.getComputedStyle(this);for(let t in s)isNaN(t)&&(this._styles[t]=s[t])}if(void 0!==t)return this._styles[s]=t,this.style[s]=t,this;const e=this._styles[s];return void 0===e?this._styles[s.toCamelCase()]:e}}],'js/extensions/HTMLElement/dataAttr': [["js/extensions/test-proto"],t=>{t(HTMLElement,["dataAttr","_data"]),HTMLElement.prototype.dataAttr=function(t,a){return this._data||(this._data=Object.assign({},this.dataset)),void 0!==a?(this._data[t]=a,this):this._data[t]}}],'js/extensions/HTMLElement/find': [["js/extensions/test-proto","js/extensions/String/createElement"],e=>{e(HTMLElement,["find"]),HTMLElement.prototype.find=function(e){let t=this.querySelector(e);return t?(t.length=1,t):((t="dummy".createElement()).length=0,t)}}],'js/extensions/HTMLElement/findAll': [["js/extensions/test-proto"],e=>{e(HTMLElement,["findAll"]),HTMLElement.prototype.findAll=function(e){return this.querySelectorAll(e)}}],'js/extensions/HTMLElement/forEachChild': [["js/extensions/test-proto"],t=>{t(HTMLElement,["forEachChild"]),HTMLElement.prototype.forEachChild=function(t=(()=>{}),e=!1){e&&t(this);for(let e=0,h=this.children.length;e<h;e++){let h=this.children[e];if(!h)return this;h.children.length?h.forEachChild(t,!0):t(h)}return this}}],'js/extensions/HTMLElement/hasClass': [["js/extensions/test-proto"],s=>{s(HTMLElement,["hasClass"]),HTMLElement.prototype.hasClass=function(s){return this.classList?this.classList.contains(s):new RegExp(`(^| )${s}( |$)`,"gi").test(this.className)}}],'js/extensions/HTMLElement/hideElement': [["js/extensions/test-proto","js/extensions/HTMLElement/css"],e=>{e(HTMLElement,["hideElement"]),HTMLElement.prototype.hideElement=function(){return this.css("display","none"),this}}],'js/extensions/HTMLElement/html': [["js/extensions/test-proto"],t=>{t(HTMLElement,["html"]),HTMLElement.prototype.html=function(t){return void 0===t?this.innerHTML:(this.innerHTML=t,this)}}],'js/extensions/HTMLElement/off': [["js/extensions/test-proto"],e=>{e(HTMLElement,["off"]),HTMLElement.prototype.off=function(e,t){for(let o of e.split(" "))this.removeEventListener(o,t);return this}}],'js/extensions/HTMLElement/on': [["js/extensions/test-proto"],t=>{t(HTMLElement,["on"]),HTMLElement.prototype.on=function(t,e){for(let n of t.split(" "))this.addEventListener(n,e);return this}}],'js/extensions/HTMLElement/overflownX': [["js/extensions/test-proto"],t=>{t(HTMLElement,["overflownX"]),HTMLElement.prototype.overflownX=function(){return this.scrollWidth>this.clientWidth}}],'js/extensions/HTMLElement/overflownY': [["js/extensions/test-proto"],e=>{e(HTMLElement,["overflownY"]),HTMLElement.prototype.overflownY=function(){return this.scrollHeight>this.clientHeight}}],'js/extensions/HTMLElement/removeAttr': [["js/extensions/test-proto"],t=>{t(HTMLElement,["removeAttr"]),HTMLElement.prototype.removeAttr=function(t){return this.removeAttribute(t),this}}],'js/extensions/HTMLElement/removeClass': [["js/extensions/test-proto"],s=>{s(HTMLElement,["removeClass"]),HTMLElement.prototype.removeClass=function(s){return this.classList?this.classList.remove(s):this.className=this.className.replace(new RegExp(`(^|\\b)${s.split(" ").join("|")}(\\b|$)`,"gi")," "),this}}],'js/extensions/HTMLElement/setFocus': [["js/extensions/test-proto"],t=>{t(HTMLElement,["setFocus"]),HTMLElement.prototype.setFocus=function(){return this.focus(),this}}],'js/extensions/HTMLElement/showElement': [["js/extensions/test-proto","js/extensions/HTMLElement/css"],e=>{e(HTMLElement,["showElement"]),HTMLElement.prototype.showElement=function(e){return void 0===e||e?(this.css("display",""),this):this.hideElement()}}],'js/extensions/HTMLElement/switchPlaces': [["js/extensions/test-proto","js/extensions/HTMLElement/css"],e=>{e(HTMLElement,["switchPlaces"]),HTMLElement.prototype.switchPlaces=function(e){const t=this.parentElement;let i=this.nextElementSibling,n=e.nextElementSibling;if(this.remove(),i&&i.id===e.id)i=n;else if(n&&n.id===this.id)return(n=i)?t.insertBefore(this,n):t.append(this),void(i?t.insertBefore(e,i):t.append(e));return i?t.insertBefore(e,i):t.append(e),n?t.insertBefore(this,n):t.append(this),this}}],'js/extensions/HTMLElement/toggleClass': [["js/extensions/test-proto"],s=>{s(HTMLElement,["toggleClass"]),HTMLElement.prototype.toggleClass=function(s,t){return void 0!==t?(t?this.addClass(s):this.removeClass(s),this):(this.hasClass(s)?this.removeClass(s):this.addClass(s),this)}}],'js/extensions/HTMLElement/trigger': [["js/extensions/test-proto"],t=>{t(HTMLElement,["trigger"]),HTMLElement.prototype.trigger=function(t){for(let e of t.split(" "))this.dispatchEvent(new Event(e));return this}}],'js/extensions/HTMLElement/visible': [["js/extensions/test-proto","js/extensions/HTMLElement/css"],i=>{i(HTMLElement,["visible"]),HTMLElement.prototype.visible=function(i){return void 0===i||i?(this.css("visibility","visible"),this):this.css("visibility","hidden")}}],'js/extensions/String/createElement': [["js/extensions/html","js/extensions/test-proto"],(e,t)=>{t(String,["createElement"]),String.prototype.createElement=function(t,n){return e.tagToElement(this,t,n)}}],'js/extensions/String/hashCode': [["js/extensions/test-proto"],t=>{t(String,["hashCode"]),String.prototype.hashCode=function(){let t=0;for(let e=0,o=this.length;e<o;e++){t=(t<<5)-t+this.charCodeAt(e),t&=t}return t}}],'js/extensions/String/html': [["js/extensions/test-proto"],t=>{t(String,["html"]),String.html=((t,...n)=>String.raw(t,...n))}],'js/extensions/String/toCamelCase': [["js/extensions/test-proto"],e=>{e(String,["toCamelCase"]),String.prototype.toCamelCase=function(){return this.replace(/-([a-z,0-9])/g,e=>e[1].toUpperCase())}}],'js/extensions/String/toElement': [["js/extensions/html","js/extensions/test-proto"],(t,e)=>{e(String,["toElement"]),String.prototype.toElement=function(){return t.strToElement(this)}}],'js/extensions/test-proto': [[],()=>(r,e,o=!0)=>{for(let i of e)if(void 0!==r.prototype[i]){if(o)throw new Error(`Error: Name collision - object ${r} already have defined "${i}" !`);return!1}return!0}],'js/_main': [["js/extensions/apply"],({loadExtensions:e,applyExtensions:n,applyExtensionsExcept:l})=>{e({HTMLElement:["addClass","appendElement","appendElementTo","attr","css","dataAttr","find","findAll","forEachChild","hasClass","hideElement","html","off","on","overflownX","overflownY","removeAttr","removeClass","setFocus","showElement","toggleClass","trigger","visible","clone","switchPlaces"],String:["hashCode","html","toElement","toCamelCase","createElement"]}).then(()=>{l("NodeList","HTMLElement",["find","findAll"],!0),l("HTMLCollection","HTMLElement",["find","findAll"],!0),n("Document",["on","off","trigger","find","findAll"]),n("Window",["on","off","trigger"]),require(["app/index"],()=>{})})}],'app/api': [["require","exports","app/_sys/pubsub","vs/editor/editor.main"],function(t,n,e){"use strict";var a,i;Object.defineProperty(n,"__esModule",{value:!0}),n.ScriptId=(t=>`${i.SCRIPTS}-${t.connection}-${t.schema}-${t.id}`),n.TableId=(t=>`${i.TABLES}-${t.connection}-${t.schema}-${t.id}`),n.ViewId=(t=>`${i.VIEWS}-${t.connection}-${t.schema}-${t.id}`),n.RoutineId=(t=>`${i.ROUTINES}-${t.connection}-${t.schema}-${t.id}`),n.classes={active:"active",sticky:"sticky",docked:"docked"},function(t){t.LEFT="left",t.RIGHT="right"}(n.Position||(n.Position={})),function(t){t.DARK="dark",t.LIGHT="light"}(n.Themes||(n.Themes={})),function(t){t[t.READY=0]="READY",t[t.BUSY=1]="BUSY",t[t.ERROR=2]="ERROR",t[t.NO_CONNECTION=3]="NO_CONNECTION"}(a=n.AppStatus||(n.AppStatus={})),function(t){t.SCRIPTS="scripts",t.TABLES="tables",t.VIEWS="views",t.ROUTINES="routines",t.SEARCH="search"}(i=n.Keys||(n.Keys={})),function(t){t.PGSQL="pgsql"}(n.Languages||(n.Languages={}));const c=(t,n)=>Object({ok:t.ok,status:t.status,data:n}),o=async(t,n)=>{e.publish(e.SET_APP_STATUS,a.BUSY);try{const i=await fetch(t,n);return i.ok?c(i,await i.json()):(e.publish(e.SET_APP_STATUS,a.ERROR,i.status),c(i))}catch(t){throw e.publish(e.SET_APP_STATUS,a.ERROR,t.message),t}},s=async(t,n)=>{const e=await fetch(t,n);return e.ok?c(e,await e.json()):c(e)};let r,p;n.getCurrentSchema=(()=>r),n.getCurrentConnection=(()=>p);let d,u=new Array,l=new Array;l[0]="rgb(255,255,255)",l[1]="rgb(0,182,192)",l[2]="rgb(0,255,128)",l[3]="rgb(128,0,64)",l[4]="rgb(0,128,0)",l[5]="rgb(128,128,0)",l[6]="rgb(255,128,255)",l[7]="rgb(0,64,0)",l[8]="rgb(128,128,128)",l[9]="rgb(255,128,128)",n.getConnectionColor=(t=>{const n=u.indexOf(t);if(-1!=n)return l[n];const e=(16777215&t.hashCode()).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e});n.initializeApi=(async()=>{(d=await(async()=>o("api/initial"))()).ok&&(u=d.data.connections.map(t=>t.name)),e.publish(e.API_INITIAL,d)}),n.connectionIsDefined=(t=>!!(d&&d.ok&&d.data&&d.data.connections&&d.data.connections.length)&&!!d.data.connections.find(n=>n.name==t)),n.fetchConnection=(async t=>{const n=await o(`api/connection/${t}`,(()=>({headers:{timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}}))());return n.data?(r=n.data.schemas.selected,p=t,n.data.connection=t,e.publish(e.CONNECTION_SET,p),n):n}),n.fetchSchema=(async t=>{const e=await o(`api/schema/${n.getCurrentConnection()}/${t}`);return e.data?(r=e.data.name,e.data.connection=n.getCurrentConnection(),e):null}),n.createScript=(async()=>{const t=await s(`api/script-create/${n.getCurrentConnection()}/${n.getCurrentSchema()}`);return t.data?(t.data.connection=n.getCurrentConnection(),t.data.schema=n.getCurrentSchema(),t):null}),n.fetchScriptContent=((t,n)=>s(`api/script-content/${t}/${n}`)),n.saveScriptContent=(async(t,n,e,a)=>await s(`api/script-content/${t}/${n}/${encodeURIComponent(a)}`,{method:"POST",headers:{Accept:"text/plain","Content-Type":"text/plain","_null-content":null===e?"1":"","_null-view-state":null===a?"1":""},body:e})),n.saveScriptScrollPosition=(async(t,n,e,a)=>await s(`api/script-scroll-position/${t}`,{method:"POST",headers:{Accept:"application/json; charset=UTF-8","Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({id:n,scrollTop:e,scrollLeft:a})}))}],'app/controls/context-menu': [["require","exports","app/_sys/pubsub"],function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ContextMenu=class{constructor({id:e,items:t=[],target:s,event:n="contextmenu",menuItemsCallback:l=(e=>e),beforeOpen:o=(()=>!0),onOpen:h=(()=>{}),onClose:c=(()=>{})}){this.id=e,this.element=document.body.find("#"+e),this.element.length||(this.element=this.menuElement(e),document.body.append(this.element)),this.actions=this.getActionsContainerElement(this.element),this.onClose=c,this.event=n,this.setMenuItems(t),this.element.on("click",()=>this.close()),window.on("resize",()=>this.close()),window.on("mousedown",e=>{let t=e.composedPath();(!t.includes(this.element)&&!t.includes(this.target)&&"click"===n||!t.includes(this.element)&&"click"!==n)&&this.close()}).on("keyup",e=>{27===e.keyCode&&this.close()}),this.target=s.on(n,e=>{if(o(this,e)&&0!==Object.keys(this.items).length)if(this.isVisible)this.close();else{this.actions.html("");for(let e of l(Object.values(this.items).sort((e,t)=>e.order-t.order)))this.actions.append(e.element);this.adjust(e),e.preventDefault(),h(this)}}),i.subscribe(i.CLOSE_CONTEXT_MENU,()=>this.close())}menuSplitterElement(){return new Element}open(){this.target.trigger(this.event)}close(){this.isVisible&&(this.element.hideElement(),this.actions.html(""),this.onClose(this))}getCheckedItem(){for(let e of Object.values(this.items))if(e.checked)return e;return null}triggerById(e,t){const i=this.items[e];i&&i.action(t)}updateMenuItem(e,t){const i=this.items[e],s={...i||{},...t};return this.updateItemElement(s),void 0===s.id&&(s.id=e),this.items[e]=s,this}setMenuItems(e){this.items={};let t=0;for(let i of e){i.order=t++,this.updateItemElement(i);let e=i;this.items[e.id?e.id:t.toString()]=i}}adjust(e){this.element.css("top",e.y+"px").css("left",e.x+"px").visible(!1).showElement();const t=this.actions.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight,n=e.x+t.width,l=t.top+t.height;if(n>=i+1){let e=i-t.width-1;this.element.css("left",(e>0?e:0)+"px")}if(l>=s+1){let i=e.y-t.height-1;this.element.css("top",(i>0?i:0)+"px")}this.element.visible(!0)}getActionsContainerElement(e){return e}get isVisible(){return(1!==this.actions.childNodes.length||this.actions.childNodes[0].nodeType!==Node.TEXT_NODE)&&"none"!==this.element.css("display")&&0!==this.actions.childNodes.length}updateItemElement(e){let t=e;e.splitter?e.element=this.menuSplitterElement():e.element=this.menuItemElement(t).on("click",()=>{t.action(t.args,this.args)})}}}],'app/controls/footer-context-menu': [["require","exports","./context-menu"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class extends n.ContextMenu{adjust(){this.element.css("top","0").css("left","0").visible(!1).showElement();const e=this.target.getBoundingClientRect(),t=this.element.getBoundingClientRect();let n;n=e.left+t.width>=window.innerWidth?window.innerWidth-t.width:e.left,this.element.css("top",e.top-t.height+"px").css("left",n+"px").css("min-width",e.width+"px").visible(!0)}menuElement(e){return String.html`<div id=${e} class=footer-menu></div>`.toElement()}menuItemElement(e){return String.html`<div class=footer-menu-item><span>${e.checked?"&check;":""}</span> <span>${e.text}</span></div>`.toElement().attr("title",e.data?e.data:"")}}}],'app/controls/monaco-context-menu': [["require","exports","./context-menu"],function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=class extends t.ContextMenu{getActionsContainerElement(e){return e.find("ul")}menuElement(e){return String.html`<div id=${e} style="display: none; position: fixed;"><div class="context-view monaco-menu-container pgmenu-container"><div class=monaco-menu><div class="monaco-action-bar animated vertical"><ul class=actions-container></ul></div></div></div></div>`.toElement()}menuSplitterElement(){return String.html`<li class="action-item pgaction disabled"><a class="action-label icon separator disabled"></a></li>`.toElement()}menuItemElement(e){return String.html`<li class="action-item pgaction">${e.checked?'<span class=checked>&check;</span>':""} <a class=action-label tabindex=0>${e.text}</a> ${e.keyBindingsInfo?'<span class=keybinding>'+e.keyBindingsInfo+"</span>":""}</li>`.toElement()}}}],'app/controls/splitter': [["require","exports","app/_sys/storage"],function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i={position:null,docked:!0},o=t=>new s.default(i,t,(t,e)=>"docked"==t?JSON.parse(e):e);class n{constructor({name:t,element:e,container:s,dockPosition:n=0,resizeIndex:r,maxDelta:a=250,min:h=100,events:u={docked:()=>{},undocked:()=>{},changed:()=>{}},maxResize:d,storage:l}){this.element=e||(()=>{throw new Error("element is required")})(),this.container=s||(()=>{throw new Error("container is required")})(),this.cursor=document.body.css("cursor"),this.dockPosition=n,this.events=u,this.storage=l||(t?o(t):i),this.offset=null,this.docked=!1,this.resizeIndex=void 0!==r?r:(()=>{throw new Error("resizeIndex is required")})(),this.maxDelta=a,this.min=h,this.maxResize=d||a}updateIndexesAndAdjust(t){void 0!==t&&(this.resizeIndex=t),this.autoIndex=this.container.css(this.gridTemplateName).split(" ").indexOf("auto"),this.adjust()}start(){return this.element.on("mousedown",t=>{this.offset=this.calculateOffset(t),document.body.css("cursor",this.element.css("cursor")),this.element.addClass("split-moving");let e=this.getValuesOrSetNewPos(this.storage.position+"px");this.startingPosition=e.previousPosition}).on("mouseup",()=>{this.element.removeClass("split-moving"),this.startingPosition=null}).on("dblclick",()=>{this.isDocked?this.undockInternal():this.dock()}),document.on("mouseup",()=>{if(null===this.offset)return!0;if(this.offset=null,document.body.css("cursor",this.cursor),this.docked)return!0;const t=this.getValuesOrSetNewPos();this.storage.position=t.previousPosition,this.element.removeClass("split-moving")}).on("mousemove",t=>{if(null===this.offset)return!0;t.preventDefault(),t.stopPropagation();const e=this.getPositionFromMouseEvent(t),s=this.calculatePosition(e,t),i=this.getValuesOrSetNewPos(s+"px"),o=this.container.getBoundingClientRect();return!(this.calculateDelta(o,e)<=this.maxDelta)&&(this.getMin(e,s)<=this.min?!this.docked&&(this.dock(),!1):this.docked?(this.undockInternal(!1,this.min),!1):(this.element.addClass("split-moving"),this.container.css(this.gridTemplateName,i.values.join(" ")),this.events.changed(),!1))}),this}get isDocked(){return this.docked}dock(t=!1){const e=this.getValuesOrSetNewPos(this.dockPosition+"px");this.storage.position=this.startingPosition?this.startingPosition:e.previousPosition,this.container.css(this.gridTemplateName,e.values.join(" ")),this.docked=!0,this.storage.docked=!0,this.element.removeClass("split-moving"),t||this.events.docked()}undock(t=!1){this.undockInternal(t,this.storage.position)}undockInternal(t=!1,e=this.maxDelta){if(!this.docked)return;void 0===e&&(e=this.storage.position),this.storage.position>=e&&(e=this.storage.position);const s=this.getValuesOrSetNewPos(e+"px");this.container.css(this.gridTemplateName,s.values.join(" ")),this.docked=!1,this.storage.docked=!1,t||this.events.undocked()}move(t,e){if((e=e||this.getValuesOrSetNewPos()).previousPosition<=this.min)return!1;const s=e.previousPosition+t;this.storage.position=s,e.values[this.resizeIndex]=s+"px",this.container.css(this.gridTemplateName,e.values.join(" "))}adjust(){if(this.storage.docked)this.dock();else if(this.storage.position){let t=this.getValuesOrSetNewPos(this.storage.position+"px");this.container.css(this.gridTemplateName,t.values.join(" "))}}getCurrent(){return Number(this.getValues()[this.resizeIndex].replace("px",""))}getPositionFromMouseEvent(t){return t[this.mouseEventPositionProperty]}getValuesOrSetNewPos(t){const e=this.getValues(),s=Number(e[this.resizeIndex].replace("px",""));return t&&(e[this.resizeIndex]=t,e[this.autoIndex]="auto"),{values:e,previousPosition:s}}getValues(){return this.container.css(this.gridTemplateName).split(" ")}}e.Splitter=n;e.VerticalSplitter=class extends n{constructor(t){super(t),this.element.addClass("main-split").addClass("main-split-v"),this.mouseEventPositionProperty="clientX",this.gridTemplateName="grid-template-columns",this.updateIndexesAndAdjust()}start(){if(super.start(),this.maxResize){let t=window.innerWidth;window.on("resize",()=>{if(this.isDocked)return;let e=this.getValuesOrSetNewPos(),s=window.innerWidth,i=s-t;t=s,s-e.previousPosition<this.maxResize&&this.move(i,e)})}return this}calculatePosition(t,e){return t+this.offset}calculateOffset(t){return this.getCurrent()-this.getPositionFromMouseEvent(t)}calculateDelta(t,e){return t.width-e}getMin(t,e){return t}};e.HorizontalSplitter=class extends n{constructor(t){super(t),this.element.addClass("main-split").addClass("main-split-h"),this.mouseEventPositionProperty="clientY",this.gridTemplateName="grid-template-rows",this.updateIndexesAndAdjust()}start(){if(super.start(),this.maxResize){let t=window.innerHeight;window.on("resize",()=>{if(this.isDocked)return;let e=this.getValuesOrSetNewPos(),s=window.innerHeight,i=s-t;t=s,s-e.previousPosition<this.maxResize&&this.move(i,e)})}return this}calculatePosition(t,e){return this.offset[1]+(this.offset[0]-this.getPositionFromMouseEvent(e))}calculateDelta(t,e){return e}calculateOffset(t){return[this.getPositionFromMouseEvent(t),this.getCurrent()]}getMin(t,e){return e}}}],'app/extensions': [["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),String.prototype.formatDateString=function(){const t=new Date(this),e=new Date,r=t.getFullYear(),n=t.getDate(),o=t.getMonth();return n==e.getDate()&&o==e.getMonth()&&r==e.getFullYear()?`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}`:`${r}-${(o+1).toString().padStart(2,"0")}-${n.toString().padStart(2,"0")} ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`},e.default=null,Map.prototype.first=function(){return this.values().next()},Map.prototype.where=function*(t){for(let[e,r]of this)t(r)&&(yield r)},Map.prototype.maxBy=function(t){let e,r;for(let[n,o]of this)if(void 0===e)e=o,r=t(o);else{const n=t(o);n>r&&(e=o,r=n)}return e},Map.prototype.switchByKeys=function(t,e){const r=Array.from(this.entries()),n=Array.from(this.keys()),o=n.indexOf(t),i=n.indexOf(e);return[r[o],r[i]]=[r[i],r[o]],new Map(r)}}],'app/index': [["require","exports","app/_sys/storage","app/ui/toolbar/toolbar","./ui/side-panel/_side-panels","app/ui/main-panel/main-panel","app/ui/footer/footer","app/controls/splitter","app/api","app/_sys/pubsub","app/extensions"],function(t,e,i,s,n,o,a,l,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const p=new i.default({toolbarPosition:r.Position.LEFT,sidePanelPosition:r.Position.LEFT,sidePanelWidth:250,sidePanelDocked:!0,theme:r.Themes.DARK},"main",(t,e)=>"sidePanelDocked"==t?JSON.parse(e):e),u={interval:225,counter:0,frames:["∙ ∙ ∙ ∙ ∙","● ∙ ∙ ∙ ∙","∙ ● ∙ ∙ ∙","∙ ∙ ● ∙ ∙","∙ ∙ ∙ ● ∙","∙ ∙ ∙  ∙ ●"]};new class{constructor(){this.defaultTitle="pgcode",this.initTheme(),this.initElements(),this.setStatus(r.AppStatus.BUSY,[]),this.initComponents(),this.initSplitter(this.initGrid()),this.subscribeEvents(),r.initializeApi(),document.title=this.defaultTitle}moveToolbar(t){if(p.toolbarPosition===t)return!1;p.toolbarPosition=t;const e=this.initGrid();return this.splitter.updateIndexesAndAdjust(e),!0}setStatus(t,e){if(t==r.AppStatus.READY){if(this.status==r.AppStatus.READY)return;this.status=t,this.overlay.hideElement().css("opacity","0"),clearInterval(this.loadingTimeout),document.title=e.length?`${this.defaultTitle}: ${e[0]}`:this.previousTitle}else if(t==r.AppStatus.BUSY){if(this.status==r.AppStatus.BUSY)return;this.status=t,this.overlay.showElement(),setTimeout(()=>this.overlay.css("opacity","0.4")),this.previousTitle=document.title,clearInterval(this.loadingTimeout),this.loadingTimeout=setInterval(()=>{document.title=u.frames[u.counter],u.counter++,u.counter==u.frames.length&&(u.counter=0)},u.interval)}else if(t==r.AppStatus.ERROR){if(this.status==r.AppStatus.ERROR)return;this.status=t,this.overlay.showElement(),setTimeout(()=>this.overlay.css("opacity","0.4")),this.previousTitle=document.title,clearInterval(this.loadingTimeout),document.title=e.length?`NETWORK ERROR (${e[0]})`:"NETWORK ERROR"}else if(t==r.AppStatus.NO_CONNECTION){if(this.status==r.AppStatus.NO_CONNECTION)return;this.status=t,this.overlay.hideElement().css("opacity","0"),clearInterval(this.loadingTimeout),this.previousTitle=document.title,document.title=`NO CONNECTION - ${this.defaultTitle}`}}initTheme(){this.themeLink=document.getElementById("theme"),this.themeLink.attr("href").split("?")[0]!==`css/theme-${p.theme}.css`&&this.themeLink.attr("href",`css/theme-${p.theme}.css`)}initElements(){document.body.html(String.html`<div class=overlay></div><div class=container><div></div><div></div><div></div><div></div><div></div></div>`),this.overlay=document.body.children[0],this.container=document.body.children[1]}initGrid(){const[t,e,i]=(()=>{let t=p.toolbarPosition===r.Position.LEFT,e=p.sidePanelPosition===r.Position.LEFT,i=p.sidePanelWidth;return t&&e?["toolbar side-panel main-splitter main-panel",`50px ${i}px 5px auto`,1]:t&&!e?["toolbar main-panel main-splitter side-panel",`50px auto 5px ${i}px`,3]:!t&&e?["side-panel main-splitter main-panel toolbar",`${i}px 5px auto 50px`,0]:t||e?void 0:["main-panel main-splitter side-panel toolbar",`auto 5px ${i}px 50px`,2]})();return this.container.css("grid-template-areas",`'${t}' 'footer footer footer footer`),this.container.css("grid-template-columns",e),i}initSplitter(t){this.splitter=new l.VerticalSplitter({element:this.container.children[2],container:this.container,resizeIndex:t,events:{docked:()=>d.publish([d.SIDEBAR_DOCKED,d.SPLITTER_CHANGED]),undocked:()=>d.publish([d.SIDEBAR_UNDOCKED,d.SPLITTER_CHANGED]),changed:()=>d.publish(d.SPLITTER_CHANGED)},storage:{get position(){return p.sidePanelWidth},set position(t){p.sidePanelWidth=t},get docked(){return p.sidePanelDocked},set docked(t){p.sidePanelDocked=t}}}).start()}initComponents(){const t=new o.MainPanel(this.container.children[3]);new s.default(this.container.children[0],p.toolbarPosition,this),new n.default(this.container.children[1],t),new a.default(this.container.children[4])}subscribeEvents(){d.subscribe(d.STATE_CHANGED_ON,()=>{this.splitter.isDocked&&this.splitter.undock()}),d.subscribe(d.STATE_CHANGED_OFF,()=>{this.splitter.isDocked||this.splitter.dock()}),d.subscribe(d.SET_APP_STATUS,(t,...e)=>this.setStatus(t,e)),document.body.on("contextmenu",t=>t.preventDefault())}}}],'app/ui/content/content': [["require","exports","app/ui/content/editor","app/controls/splitter","app/api","app/_sys/storage"],function(t,e,i,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r={height:50,docked:!0},a=new o.default({splitter:{}},"content",(t,e)=>JSON.parse(e),(t,e)=>JSON.stringify(e)),c=t=>{const e=a.splitter[t];return e||r},d=(t,e)=>{const i=a.splitter,n=i[t];i[t]={...n||r,...e},a.splitter=i};e.default=class{constructor(t){this.container=t}disposeEditor(t){const e=this.getContentElement(t);e.length&&this.editor(e).dispose()}async createOrActivateContent(t,e,i,n={content:null,sticky:!1}){if(n.sticky){if(this.stickyId&&t!=this.stickyId){const t=this.getContentElement(this.stickyId);t.length&&(this.editor(t).dispose(),t.remove())}this.stickyId=t}await this.createNewContent(t,e,i,n),this.activate(t)}async createNewContent(t,e,i,n={content:null,sticky:!1}){n.sticky&&(this.stickyId=t);const o=this.createElement(t,e,n.content).hideElement().attr("id",t).dataAttr("key",e).dataAttr("data",i).addClass("content").appendElementTo(this.container);if(!n.content&&e===s.Keys.SCRIPTS){const t=await s.fetchScriptContent(i.connection,i.id);t.ok&&this.editor(o).setContent(t.data)}}setStickStatus(t,e){this.stickyId=e?t:void 0}activate(t){const e=this.getContentElement(t);return!!e.length&&(this.active&&this.active.hideElement().removeClass(s.classes.active),this.active=e.showElement().addClass(s.classes.active),setTimeout(()=>this.editor(e).layout().focus()),!0)}getContent(t){const e=this.getContentElement(t);if(!e.length)return null;const i=e.dataAttr("editor");return i?i.getContent():e.html().trim()}remove(t){const e=this.container.find("#"+t);e.length&&(this.editor(e).dispose(),e.remove())}createElement(t,e,i=null){return e==s.Keys.SCRIPTS?this.createSplitEditor(t,s.Languages.PGSQL,i):String.html`<div>${e.toString()}: ${t}</div>`.toElement()}createSplitEditor(t,e,s=null){const o=String.html`<div><div class=editor></div><div></div><div class=results-pane></div></div>`.toElement().addClass("split-content").css("grid-template-rows",`auto 5px ${c(t).height}px`),r=new i.Editor(t,o.children[0],o,e);return o.dataAttr("editor",r),new n.HorizontalSplitter({element:o.children[1],container:o,resizeIndex:2,maxDelta:100,min:25,events:{docked:()=>{r.layout()},undocked:()=>{r.layout()},changed:()=>{r.layout()}},storage:{get position(){return c(t).height},set position(e){d(t,{height:e})},get docked(){return c(t).docked},set docked(e){d(t,{docked:e})}}}).start(),o}editor(t){const e=t.dataAttr("editor");return e||i.nullEditor}getContentElement(t){return this.container.find("#"+t)}}}],'app/ui/content/editor': [["require","exports","app/api","app/_sys/pubsub","app/_sys/timeout","vs/editor/editor.main"],function(t,i,o,e,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.nullEditor=new class{dispose(){return this}initiateLayout(){return this}layout(){return this}focus(){return this}setContent(t){return this}getContent(){return null}};i.Editor=class{constructor(t,i,o,n,s=null){this.id=t,console.log("editor created",this.id),this.container=i,this.content=o;const a=String.html`<div style="position: fixed;"></div>`.toElement();this.container.append(a),this.monaco=monaco.editor.create(a,{language:n,theme:"vs-dark",renderWhitespace:"all",automaticLayout:!1}),s&&this.setContent(s),this.monaco.onDidChangeModelContent(()=>this.initiateSaveContent()),this.monaco.onDidChangeCursorPosition(()=>this.initiateSaveContent()),this.monaco.onDidScrollChange(()=>this.initiateSaveScroll()),window.on("resize",()=>this.initiateLayout()),e.subscribe([e.SIDEBAR_DOCKED,e.SPLITTER_CHANGED,e.SIDEBAR_UNDOCKED],()=>this.initiateLayout())}dispose(){return this.monaco.dispose(),console.log("editor disposed",this.id),this}layout(){return this.content.hasClass(o.classes.active)?(this.monaco.layout({height:this.container.clientHeight,width:this.container.clientWidth}),this):this}initiateLayout(){return n.timeout(()=>this.layout(),50,`${this.id}-editor-layout`),this}focus(){return this.monaco.hasTextFocus()||this.monaco.focus(),this}setContent(t){return null!=t.content&&(this.monaco.setValue(t.content),this.content.dataAttr("contentHash",t.content.hashCode())),t.viewState&&(this.monaco.restoreViewState(t.viewState),this.content.dataAttr("viewStateHash",JSON.stringify(t.viewState).hashCode())),t.scrollPosition&&(this.content.dataAttr("scrollTop",t.scrollPosition.scrollTop),this.content.dataAttr("scrollLeft",t.scrollPosition.scrollLeft),this.monaco.setScrollPosition(t.scrollPosition)),this}getContent(){return this.monaco.getValue()}initiateSaveContent(){n.timeoutAsync(async()=>{let t=this.monaco.getValue(),i=JSON.stringify(this.monaco.saveViewState());const n=t.hashCode(),s=i.hashCode(),a=this.content.dataAttr("data");if(n===this.content.dataAttr("contentHash")&&(t=null),s===this.content.dataAttr("viewStateHash")&&(i=null),null!==t||null!=i){let n=await o.saveScriptContent(a.connection,a.id,t,i);n.ok&&(a.timestamp=n.data,e.publish(e.SCRIPT_UPDATED,a))}null!=t&&this.content.dataAttr("contentHash",n),null!=i&&this.content.dataAttr("viewStateHash",s)},500,`${this.id}-editor-save`)}initiateSaveScroll(){n.timeoutAsync(async()=>{let t=this.monaco.getScrollTop(),i=this.monaco.getScrollLeft();if(t!=this.content.dataAttr("scrollTop")||i!=this.content.dataAttr("scrollLeft")){this.content.dataAttr("scrollTop",t).dataAttr("scrollLeft",i);const e=this.content.dataAttr("data");await o.saveScriptScrollPosition(e.connection,e.id,t,i)}},1e3,`${this.id}-editor-scroll`)}}}],'app/ui/footer/footer': [["require","exports","app/controls/footer-context-menu","app/controls/monaco-context-menu","app/_sys/storage","app/api","app/_sys/pubsub"],function(e,t,n,s,i,o,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=new i.default({connection:null});t.default=class{constructor(e){this.selectedConnection=null,this.connectionMenu=null,this.schemasMenu=null,this.footer=e.addClass("footer").html(String.html`<div class=connections><i class=icon-database></i> <span></span></div><div class="info clickable"><img src=favicon.ico> <span></span></div><div class="schemas clickable"><i class=icon-search></i> <span></span></div><div class="user clickable"><span></span></div><div class="feed clickable" title="Send feedback">&#128526;</div>`),this.initConnections(e),this.initInfo(e),this.initFeedbackMenu(e)}initConnections(e){this.connections=e.find(".connections"),this.schemas=e.find(".schemas"),this.user=e.find(".user>span"),c.subscribe(c.API_INITIAL,e=>{if(!e.ok)return void this.connections.find("span").html("¯\\_(ツ)_/¯");if(this.user.html(e.data.user).attr("title",`signed in into pgcode as user ${e.data.user}`),this.schemasMenu=new n.default({id:"schema-footer-menu",event:"click",target:this.schemas,items:[]}),1===e.data.connections.length)return this.selectConnection(e.data.connections[0]),void this.connections.css("cursor","initial");const t=new Array;for(let n of e.data.connections)t.push({id:n.name,text:n.name,data:this.formatTitleFromConn(n),action:()=>this.selectConnection(n)});if(this.connectionMenu=new n.default({id:"conn-footer-menu",event:"click",target:this.connections,items:t}),a.connection){const t=a.connection,n=e.data.connections.filter(e=>e.name===t);n.length?this.selectConnection(n[0]):(a.connection=t,this.selectConnection())}else this.selectConnection()})}initInfo(e){this.info=e.find(".info");const t=String.html`<input id=footer-copy type=text class=out-of-viewport>`.toElement().appendElementTo(document.body);new s.default({id:"info-ctx-menu",target:this.info,beforeOpen:e=>{const n=window.getSelection(),s=n.toString();return!(!s||n.anchorNode.parentElement.parentElement!=this.info&&n.anchorNode!=this.info||(e.updateMenuItem("copy",{text:`copy "${s}"`,action:()=>{t.value=s,t.select(),document.execCommand("copy"),t.value=""}}),0))}})}initFeedbackMenu(e){const t=e.find(".feed");new n.default({id:"feed-footer-menu",event:"click",target:t,items:[{text:"Open New Issue",data:"Opens a new window to create a new issue on GitHub repository",action:()=>window.open("https://github.com/vbilopav/sfcode/issues/new","_blank").focus()},{text:"Tweet Your Feedback",data:"Opens a new window to send a Tweeter feedback",action:()=>window.open("https://twitter.com/intent/tweet?text="+encodeURI("Say something about @pgcode")+"&hashtags=pgcode","_blank").focus()}],onOpen:()=>t.html("&#128522;"),onClose:()=>t.html("&#128526;")})}async selectConnection(e){if(this.selectedConnection===e)return;this.selectedConnection=e;const t=e?e.name:null;if(e){const n=this.formatTitleFromConn(e);if(this.info.visible(!1),this.schemas.visible(!1),this.connections.find("span").html(t).attr("title",n),this.info.find("span").html(`v${e.version}&nbsp;&nbsp;//&nbsp;&nbsp;${e.user}@${e.host}:${e.port}/${e.database}`),this.info.attr("title",n),this.adjustWidths(),this.info.visible(!0),this.schemas.visible(!0),this.connectionMenu){const e=this.connectionMenu.getCheckedItem();e&&this.connectionMenu.updateMenuItem(e.id,{checked:!1}),this.connectionMenu.updateMenuItem(t,{checked:!0})}a.connection=t;const s=await o.fetchConnection(t);if(s.ok){const e=new Array;for(let t of s.data.schemas.names)e.push({id:t,text:t,checked:s.data.schemas.selected===t,action:()=>{this.selectSchema(t),this.fetchSchema(t)}});this.schemasMenu.setMenuItems(e),this.schemas.showElement().find("span").html(s.data.schemas.selected),this.selectSchema(s.data.schemas.selected),c.publish(c.SCHEMA_CHANGED,s.data,s.data.schemas.selected),c.publish(c.SET_APP_STATUS,o.AppStatus.READY,t)}}else this.connections.find("span").html("Connection not selected").attr("title","Click here to select from available connections..."),this.info.find("span").html(""),this.info.attr("title","no connection..."),this.schemas.showElement(!1),this.adjustWidths(),a.connection=null,c.publish(c.SET_APP_STATUS,o.AppStatus.NO_CONNECTION);this.adjustWidths()}selectSchema(e){const t=this.schemasMenu.getCheckedItem();if(t)this.schemasMenu.updateMenuItem(t.id,{checked:!1});else if(t.id===e)return;this.schemasMenu.updateMenuItem(e,{checked:!0}),this.schemas.showElement().find("span").html(e)}async fetchSchema(e){const t=await o.fetchSchema(e);c.publish(c.SCHEMA_CHANGED,t.data,t.data.name),c.publish(c.SET_APP_STATUS,o.AppStatus.READY)}adjustWidths(){const e=this.footer.css("grid-template-columns").split(" ");e[0]=this.connections.getBoundingClientRect().width+"px",e[1]=this.info.getBoundingClientRect().width+"px",e[2]=this.schemas.getBoundingClientRect().width+"px",e[3]="auto",e[4]=this.user.getBoundingClientRect().width+"px",this.footer.css("grid-template-columns",e.join(" "))}formatTitleFromConn(e){return`PostgreSQL ${e.version}\nHost: ${e.host}\nPort: ${e.port}\nDatabase: ${e.database}\nUser: ${e.user}`}}}],'app/ui/item-tooltip': [["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=(e,t,n)=>`${e}\n`+`connection: ${n.connection}\n`+`schema: ${n.schema}`+(t?"\n"+t:"")+(n.comment?`\n\n${n.comment}`:"");t.routineTitle=(e=>n(`${e.language.toLowerCase()} ${e.type.toLowerCase()} ${e.name} returns ${e.returns}`,null,e)),t.scriptTitle=(e=>n(`script: ${e.name}`,`modified: ${e.timestamp.formatDateString()}`,e)),t.tableTitle=(e=>n(`table: ${e.name}`,`estimated count ≈ ${e.estimate}`,e)),t.viewTitle=(e=>n(`view: ${e.name}`,`estimated count ≈ ${e.estimate}`,e))}],'app/ui/main-panel/main-panel': [["require","exports","app/_sys/storage","app/_sys/pubsub","app/ui/main-panel/tabs","app/controls/monaco-context-menu","app/ui/content/content","app/api","app/_sys/timeout"],function(t,e,s,i,a,n,c,r,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=new s.default({stickyId:null,activeId:null,items:[]},"tabs",(t,e)=>"items"===t?JSON.parse(e):e,(t,e)=>"items"===t?JSON.stringify(e):e),d=t=>setTimeout(()=>h.items=Array.from(t.entries(),(t,e)=>[t[0],{id:t[1].id,key:t[1].key,timestamp:t[1].timestamp,data:t[1].data}]));let l;e.MainPanel=class{constructor(t){this.headerRows=1,this.items=new Map,this.element=t.addClass("main-panel").html(String.html`<div></div><div></div>`),this.tabs=t.children[0],l=new n.default({id:"main-panel-tabs-ctx-menu",items:[{text:"Close",action:(t,e)=>this.removeByTab(e)},{splitter:!0},{text:"Close Others",action:(t,e)=>this.removeExceptTab(e)},{text:"Close to the Right",action:(t,e)=>this.removeToTheRightByTab(e)},{text:"Close to the Left",action:(t,e)=>this.removeToTheLeftByTab(e)},{splitter:!0},{text:"Copy content",action:(t,e)=>this.copyContentByTab(e)}],target:this.tabs,beforeOpen:(t,e)=>{for(let s of e.composedPath()){if(s.hasClass("main-panel"))return!1;if(s.hasClass("tab"))return t.args=s,!0}return!1}}),this.content=new c.default(t.children[1]),this.initHeaderAdjustment(),i.subscribe(i.SCHEMA_CHANGED,(t,e)=>this.schemaChanged(e,t.connection)),i.subscribe(i.SCRIPT_UPDATED,t=>a.updateScriptTabElement(this.items,t)),i.subscribe(i.API_INITIAL,()=>this.restoreItems()),this.hiddenCopy=String.html`<textarea id=main-panel-hidden-copy type=text class=out-of-viewport></textarea>`.toElement().appendElementTo(document.body)}unstickById(t){this.stickyTab&&this.stickyTab.id==t&&(this.stickyTab.removeClass(r.classes.sticky),this.stickyTab=null,h.stickyId=null,this.content.setStickStatus(t,!1))}activate(t,e,s,i){const a=this.items.get(t);if(a)this.activateByTab(a.tab);else{this.content.createOrActivateContent(t,e,s,i);const n=this.createNewTab(t,e,s);i.sticky?this.stickyTab?(this.items.delete(this.stickyTab.id),h.stickyId=null,this.stickyTab.replaceWith(this.makeStickyTab(n))):this.makeStickyTab(n).appendElementTo(this.tabs):n.appendElementTo(this.tabs),this.items.set(t,{tab:n,id:t,key:e,data:s}),this.activateByTab(n,a)}d(this.items)}restoreItems(){const t=h.stickyId,e=h.activeId;for(let[s,i]of h.items){if(!r.connectionIsDefined(i.data.connection))continue;this.content.createNewContent(s,i.key,i.data);const a=this.createNewTab(s,i.key,i.data).appendElementTo(this.tabs);s===t&&(this.stickyTab=a.addClass(r.classes.sticky)),s===e&&(this.activeTab=a.addClass(r.classes.active)),this.items.set(s,{tab:a,...i})}this.activeTab&&(this.activated(this.activeTab.id),this.initiateHeaderAdjust())}schemaChanged(t,e){if(!this.activeTab)return;const s=this.items.get(this.activeTab.id);s&&s.data.schema===t&&s.data.connection===e&&setTimeout(()=>i.publish(i.TAB_SELECTED,s.id,s.key,s.data.schema,s.data.connection))}activateByTab(t,e){for(let t of this.tabs.children)if(t.hasClass(r.classes.active)){t.removeClass(r.classes.active);let e=this.items.get(t.id);h.activeId=null,i.publish(i.TAB_UNSELECTED,e.id,e.key)}this.activeTab=t.addClass(r.classes.active),h.activeId=t.id,this.activated(t.id,e),this.initiateHeaderAdjust()}activated(t,e){e||(e=this.items.get(t)),e.timestamp=(new Date).getTime(),this.content.activate(t),i.publish(i.TAB_SELECTED,e.id,e.key,e.data.schema,e.data.connection)}removeByTab(t){const e=t.id,s=t.hasClass(r.classes.active),a=t.hasClass(r.classes.sticky),n=this.items.get(e);if(this.items.delete(e),t.remove(),this.content.remove(e),a&&(this.stickyTab=null,h.stickyId=null),!s)return;if(h.activeId=null,i.publish(i.TAB_UNSELECTED,n.id,n.key),!this.items.size)return;let c=this.items.maxBy(t=>t.timestamp);this.activateByTab(c.tab,c)}createNewTab(t,e,s){return a.createTabElement(t,e,s).on("click",t=>this.tabClick(t)).on("dblclick",t=>this.tabDblClick(t)).on("dragstart",t=>{this.activateByTab(t.currentTarget),t.dataTransfer.setData("tab-id",t.currentTarget.id)}).on("dragover",t=>t.preventDefault()).on("dragenter",t=>t.currentTarget.addClass("drop-target")).on("dragleave",t=>t.currentTarget.removeClass("drop-target")).on("drop",t=>{t.preventDefault();const e=t.currentTarget.removeClass("drop-target"),s=this.items.get(t.dataTransfer.getData("tab-id")).tab;s.switchPlaces(e),d(this.items.switchByKeys(e.id,s.id))})}makeStickyTab(t){return this.stickyTab=t,h.stickyId=t.id,this.content.setStickStatus(t.id,!0),t.addClass(r.classes.sticky)}tabClick(t){const e=t.target,s=t.currentTarget;if(e.hasClass("close"))return this.removeByTab(s),void d(this.items);this.activateByTab(s),d(this.items)}tabDblClick(t){const e=t.currentTarget;e.hasClass(r.classes.sticky)&&(e.removeClass(r.classes.sticky),this.stickyTab=null,h.stickyId=null,this.content.setStickStatus(e.id,!1))}initHeaderAdjustment(){this.headerHeight=Number(this.element.css("grid-template-rows").split(" ")[0].replace("px","")),window.on("resize",()=>this.initiateHeaderAdjust()),i.subscribe(i.SPLITTER_CHANGED,()=>this.initiateHeaderAdjust())}initiateHeaderAdjust(){o.timeout(()=>this.adjustHeaderHeight(),10,"main-panel-adjust")}adjustHeaderHeight(){let t,e=1;for(let s of this.tabs.children){let i=s.getBoundingClientRect().top;void 0!=t&&t<i&&e++,t=i,s.dataAttr("row",e)}this.activeTab&&(this.activeTab.dataAttr("row")!=e?this.activeTab.addClass("upper-row"):this.activeTab.removeClass("upper-row")),e!=this.headerRows&&(this.element.css("grid-template-rows",`${e*this.headerHeight}px auto`),this.headerRows=e)}removeExceptTab(t){const e=Array();for(let s of t.parentElement.children)s&&s.hasClass("tab")&&s.id!=t.id&&e.push(s);e.length&&(e.forEach(t=>this.removeByTab(t)),d(this.items))}removeToTheRightByTab(t){this.removeSiblingsByTab(t,"nextElementSibling")}removeToTheLeftByTab(t){this.removeSiblingsByTab(t,"previousElementSibling")}removeSiblingsByTab(t,e){const s=Array();for(;(t=t[e])&&t.hasClass("tab");)s.push(t);s.length&&(s.forEach(t=>this.removeByTab(t)),d(this.items))}copyContentByTab(t){this.hiddenCopy.html(this.content.getContent(t.id)),this.hiddenCopy.select(),document.execCommand("copy"),this.hiddenCopy.html("")}}}],'app/ui/main-panel/tabs': [["require","exports","app/api","app/ui/item-tooltip"],function(t,e,i,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTabElement=((t,e,n)=>{let s,l,c=n.name;return e===i.Keys.SCRIPTS?(s="icon-doc-text",l=a.scriptTitle(n)):e===i.Keys.TABLES?(s="icon-database",l=a.tableTitle(n)):e===i.Keys.VIEWS?(s="icon-database",l=a.viewTitle(n)):e===i.Keys.ROUTINES&&(s="icon-database",l=a.routineTitle(n)),`\n        <div class="tab" draggable="true">\n            <i class=${s}></i>\n            <span class="title">${c}</span>\n            <i class="close" title="close">&#10006</i>\n            <div class="stripe" style="background-color: ${i.getConnectionColor(n.connection)}"></div>\n        </div>`.toElement().attr("id",t).attr("title",l)}),e.updateScriptTabElement=((t,e)=>{const n=t.get(i.ScriptId(e));n&&n.tab.attr("title",a.scriptTitle(e))})}],'app/ui/results-pane/results-pane': [["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.element=e}}}],'app/ui/side-panel/panel': [["require","exports","app/_sys/pubsub","app/api","app/controls/monaco-context-menu","app/_sys/timeout"],function(e,t,s,i,l,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class h extends l.default{adjust(){this.element.css("top","0").css("left","0").visible(!1).showElement();const e=this.target.getBoundingClientRect(),t=this.element.getBoundingClientRect();let s;s=e.left+t.width>=window.innerWidth?window.innerWidth-t.width:e.left,this.element.css("top",e.top+e.height+"px").css("left",s+"px").css("min-width",e.width+"px").visible(!0)}}const a={content:null,sticky:!0};t.default=class{constructor(e,t,i=[]){this.element=e,this.key=t,this.header=e.children[0].html(String.html`<div>${t.toUpperCase()}</div><div><span class=btn><i class=icon-menu></i></span></div>`),this.items=e.children[1],this.initiateToggleShadow(),this.initPanelMenu(i),this.items.on("click",e=>this.itemsClick(e)),this.items.on("dblclick",e=>this.itemsDblClick(e)),s.subscribe(s.SCHEMA_CHANGED,(e,t)=>this.schemaChanged(e,t)),s.subscribe(s.TAB_SELECTED,e=>this.selectItemByElement(this.items.find(`#${e}`),!1,a)),s.subscribe(s.TAB_UNSELECTED,e=>this.unselectItemByElement(this.items.find(`#${e}`),!1))}show(e){this.element.showElement(e)}setMainPanelRef(e){return this.mainPanel=e,this}setSidePanelRef(e){return this.sidePanel=e,this}unselectAll(){const e=this.items.findAll(".active");if(e.length>0)for(let t of e)this.unselectItemByElement(t)}createItemElement(e){return String.html`<div class=panel-item>${e}</div>`.toElement()}itemSelected(e,t){}itemUnselected(e){}publishLength(){s.publish(s.ITEM_COUNT_CHANGED,this.key,this.items.children.length)}selectItemByElement(e,t=!0,s){if(0!==e.length&&(e.addClass(i.classes.active),t&&this.itemSelected(e,s),this.items.overflownY())){const t=e.getClientRects(),s=this.items.getClientRects();t[0].top<s[0].top&&e.scrollIntoView({behavior:"instant",block:"start",inline:"start"}),t[0].top+t[0].height>s[0].top+s[0].height&&e.scrollIntoView({behavior:"instant",block:"end",inline:"end"})}}itemsClick(e){const t=e.target.closest("div.panel-item");t&&(t.hasClass(i.classes.active)||(this.sidePanel.unselectAll(),this.selectItemByElement(t,!0,a)))}itemsDblClick(e){const t=e.target.closest("div.panel-item");this.mainPanel.unstickById(t.id)}unselectItemByElement(e,t=!0){e.removeClass(i.classes.active),t&&this.itemUnselected(e)}initPanelMenu(e=[]){e.length?new h({id:`${this.key}-panel-menu`,target:this.header.find(".btn"),event:"click",items:e,onOpen:e=>e.target.addClass(i.classes.active),onClose:e=>e.target.removeClass(i.classes.active)}):this.header.find(".btn").remove()}initiateToggleShadow(){this.items.on("mouseleave",e=>{e.target.css("overflow-y","hidden").css("z-index","")}).on("mouseenter",e=>{let t=e.target;t.scrollHeight>t.clientHeight&&t.css("overflow-y","scroll").css("z-index","1")}).on("scroll",()=>this.toggleHeaderShadow()),this.toggleHeaderShadow()}toggleHeaderShadow(){n.timeout(()=>{this.items.scrollHeight>this.items.clientHeight&&this.items.scrollTop?this.header.addClass("shadow"):this.header.removeClass("shadow")},10,"panel-scroll")}}}],'app/ui/side-panel/routines': [["require","exports","app/api","app/ui/side-panel/panel","app/ui/item-tooltip"],function(e,t,i,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class extends n.default{constructor(e){super(e,i.Keys.ROUTINES,[{text:"Filter"},{text:"Order ascending"},{text:"Order descending"}])}schemaChanged(e,t){this.items.html("");for(let i of e.routines)this.addNewItem({schema:t,connection:e.connection,...i});this.publishLength()}addNewItem(e){const t=e.comment?String.html`<div class=item-comment>${e.comment.replace("\n","")}</div>`:"";this.createItemElement(String.html`<div><i class=icon-database></i> <span>${e.name}</span></div><div><div class=item-subtext>${e.language} ${e.type} returns ${e.returns}</div>${t}</div>`).dataAttr("item",e).attr("title",a.routineTitle(e)).attr("id",i.RoutineId(e)).appendElementTo(this.items)}itemSelected(e,t){const n=e.dataAttr("item");this.mainPanel.activate(i.RoutineId(n),i.Keys.ROUTINES,n,t)}}}],'app/ui/side-panel/scripts': [["require","exports","app/api","app/ui/side-panel/panel","app/ui/item-tooltip","app/_sys/pubsub"],function(t,e,i,s,a,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class extends s.default{constructor(t){super(t,i.Keys.SCRIPTS,[{text:"New script",keyBindingsInfo:"Ctrl+N",action:()=>this.createScript()},{splitter:!0},{text:"Filter"},{text:"Order ascending"},{text:"Order descending"}]),n.subscribe(n.SCRIPT_UPDATED,t=>this.items.find(`#${i.ScriptId(t)}`).find(".item-subtext").html(t.timestamp.formatDateString()))}schemaChanged(t,e){this.items.html("");for(let i of t.scripts)this.addNewItem({schema:e,connection:t.connection,...i});this.publishLength()}async createScript(){const t=await i.createScript();t.ok&&(this.sidePanel.unselectAll(),this.selectItemByElement(this.addNewItem(t.data),!0,{content:t.data,sticky:!1}),this.publishLength())}addNewItem(t){const e=t.comment?String.html`<div class=item-comment>${t.comment.replace("\n","")}</div>`:"";return this.createItemElement(String.html`<div><i class=icon-doc-text></i> <span>${t.name}</span></div><div><div class=item-subtext>${t.timestamp.formatDateString()}</div>${e}</div>`).dataAttr("item",t).attr("title",a.scriptTitle(t)).attr("id",i.ScriptId(t)).appendElementTo(this.items)}itemSelected(t,e){const s=t.dataAttr("item");this.mainPanel.activate(i.ScriptId(s),i.Keys.SCRIPTS,s,e)}}}],'app/ui/side-panel/search': [["require","exports","app/api","app/ui/side-panel/panel"],function(e,s,a,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.default=class extends t.default{constructor(e){super(e,a.Keys.SEARCH)}schemaChanged(e,s){}}}],'app/ui/side-panel/tables': [["require","exports","app/api","app/ui/side-panel/panel","app/ui/item-tooltip"],function(e,t,i,s,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends s.default{constructor(e,t){super(e,t,[{text:"Filter"},{text:"Order ascending"},{text:"Order descending"}])}schemaChanged(e,t){this.items.html("");for(let i of e[this.key])this.addNewItem({schema:t,connection:e.connection,...i});this.publishLength()}addNewItem(e){const t=e.comment?String.html`<div class=item-comment>${e.comment.replace("\n","")}</div>`:"";this.createItemElement(String.html`<div><i class=icon-database></i> <span>${e.name}</span></div><div><div class=item-subtext>count ≈ ${e.estimate}</div>${t}</div>`).dataAttr("item",e).attr("title",a.tableTitle(e)).attr("id",i.TableId(e)).appendElementTo(this.items)}itemSelected(e,t){const s=e.dataAttr("item");this.mainPanel.activate(i.TableId(s),this.key,s,t)}}t.Tables=class extends n{constructor(e){super(e,i.Keys.TABLES)}};t.Views=class extends n{constructor(e){super(e,i.Keys.VIEWS)}}}],'app/ui/side-panel/_side-panels': [["require","exports","app/_sys/pubsub","app/ui/side-panel/scripts","app/ui/side-panel/tables","app/ui/side-panel/routines","app/ui/side-panel/search","app/api"],function(e,i,s,n,t,l,d,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=class{constructor(e,i){this.panels=new Map,e.addClass("side-panel").html(String.html`<div style="display: none;"><div></div><div></div></div><div style="display: none;"><div></div><div></div></div><div style="display: none;"><div></div><div></div></div><div style="display: none;"><div></div><div></div></div><div style="display: none;"><div></div><div></div></div>`),this.panels.set(a.Keys.SCRIPTS,new n.default(e.children[0]).setMainPanelRef(i).setSidePanelRef(this)),this.panels.set(a.Keys.TABLES,new t.Tables(e.children[1]).setMainPanelRef(i).setSidePanelRef(this)),this.panels.set(a.Keys.VIEWS,new t.Views(e.children[2]).setMainPanelRef(i).setSidePanelRef(this)),this.panels.set(a.Keys.ROUTINES,new l.default(e.children[3]).setMainPanelRef(i).setSidePanelRef(this)),this.panels.set(a.Keys.SEARCH,new d.default(e.children[4]).setMainPanelRef(i).setSidePanelRef(this)),s.subscribe([s.STATE_CHANGED_SCRIPTS,s.STATE_CHANGED_TABLES,s.STATE_CHANGED_VIEWS,s.STATE_CHANGED_ROUTINES,s.STATE_CHANGED_SEARCH],(e,i)=>{this.panels.get(e).show(i)}),s.subscribe(s.TAB_SELECTED,(e,i,s,n)=>{if(i&&s===a.getCurrentSchema()&&n===a.getCurrentConnection())for(let[e,s]of this.panels)i==e?s.show(!0):s.show(!1)})}unselectAll(){for(let e of this.panels.values())e.unselectAll()}}}],'app/ui/toolbar/toolbar': [["require","exports","app/_sys/storage","app/_sys/pubsub","app/controls/monaco-context-menu","app/api"],function(e,t,s,i,a,o){"use strict";var l;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.switch="switch",e.toggle="toggle"}(l||(l={}));const c=e=>((e,t)=>e.dataAttr("role")===t)(e,l.switch),n=e=>e===o.Position.LEFT?"Move Toolbar to Right":"Move Toolbar to Left",d=new s.default({scripts:!1,tables:!1,views:!1,routines:!1,search:!1,previousKey:o.Keys.SCRIPTS,pgcode:!1},"state",(e,t)=>"previousKey"!==e?JSON.parse(t):t),r=[{id:`btn-${o.Keys.SCRIPTS}`,icon:"icon-doc-text",key:o.Keys.SCRIPTS,label:o.Keys.SCRIPTS,text:"Scripts",keyBinding:"Ctrl+S",role:l.switch},{id:`btn-${o.Keys.TABLES}`,icon:"icon-database",key:o.Keys.TABLES,label:o.Keys.TABLES,text:"Tables",keyBinding:"Ctrl+T",role:l.switch},{id:`btn-${o.Keys.VIEWS}`,icon:"icon-database",key:o.Keys.VIEWS,label:o.Keys.VIEWS,text:"Views",keyBinding:"Ctrl+V",role:l.switch},{id:`btn-${o.Keys.ROUTINES}`,icon:"icon-database",key:o.Keys.ROUTINES,label:o.Keys.ROUTINES,text:"Routines",keyBinding:"Ctrl+R",role:l.switch},{id:`btn-${o.Keys.SEARCH}`,icon:"icon-search",key:o.Keys.SEARCH,label:o.Keys.SEARCH,text:"Search",keyBinding:"Ctrl+F",role:l.switch}];t.default=class{constructor(e,t,s){let l="",c=new Array;for(let t of r)l+=`\n            <div class="${t.icon} ${t.id}" id="${t.id}" data-key="${t.key}" data-role="${t.role}" title="${t.label} (${t.keyBinding})">\n                <div class="marker"></div>\n                <div class="lbl">${t.label}</div>\n                <div class="count" style="display: none"></div>\n            </div>`,t.text&&c.push({id:t.key,text:t.text,keyBindingsInfo:t.keyBinding,action:()=>e.find("#"+t.id).trigger("click")});this.toolbar=e.addClass("toolbar").html(l),t===o.Position.RIGHT&&this.toolbar.addClass("right"),c.push({splitter:!0},{id:"move",text:n(t),action:()=>{let e=t==o.Position.LEFT?o.Position.RIGHT:o.Position.LEFT;s.moveToolbar(e)&&((t=e)===o.Position.RIGHT?this.toolbar.addClass("right"):this.toolbar.removeClass("right"),this.menu.updateMenuItem("move",{text:n(t)}))}}),this.menu=new a.default({id:"ctx-menu-toolbar",items:c,target:e}),this.buttons=this.toolbar.children.on("click",e=>this.buttonClicked(e.currentTarget));for(let e of this.buttons){const t=e.dataAttr("key");this.setButtonState(e,d[t],t)}i.subscribe(i.SIDEBAR_DOCKED,()=>this.sidebarDocked()),i.subscribe(i.SIDEBAR_UNDOCKED,()=>this.sidebarUndocked()),i.subscribe(i.ITEM_COUNT_CHANGED,(e,t)=>{let s=this.buttons.namedItem("btn-"+e),i=s.find(".count").html(t).showElement();t.toString().length>2?i.css("width","16px"):i.css("width","10px");let a=s.attr("title").split("\n");s.attr("title",a[0]+"\n"+t+" items")}),i.subscribe(i.TAB_SELECTED,(e,t,s,i)=>{if(t&&s===o.getCurrentSchema()&&i===o.getCurrentConnection())for(let e of this.buttons){const s=e.hasClass(o.classes.active);t===e.dataAttr("key")?s||e.addClass(o.classes.active):s&&e.removeClass(o.classes.active)}}),i.subscribe(i.CONNECTION_SET,e=>{this.toolbar.findAll(".marker").css("background-color",o.getConnectionColor(e))})}sidebarDocked(){this.toolbar.addClass(o.classes.docked);for(let e of this.buttons)e.hasClass(o.classes.active)&&c(e)&&this.menu.updateMenuItem(e.dataAttr("key"),{checked:!1})}sidebarUndocked(){let e=!1;for(let t of r){if(t.role!==l.switch)continue;let s=this.buttons.namedItem(t.id);if(s.hasClass(o.classes.active)){e=!0,this.menu.updateMenuItem(s.dataAttr("key"),{checked:!0});break}}if(!e&&d.previousKey){let e=d.previousKey;for(let t of this.buttons)if(t.dataAttr("key")===e){t.addClass(o.classes.active),d[e]=!0,i.publish(i.STATE_CHANGED+e,e,!0),this.menu.updateMenuItem(e,{checked:!0});break}}this.toolbar.removeClass(o.classes.docked)}setButtonState(e,t,s){e.hasClass(o.classes.active)&&!t?(e.removeClass(o.classes.active),setTimeout(()=>i.publish(i.STATE_CHANGED+s,s,!1))):!e.hasClass(o.classes.active)&&t&&(e.addClass(o.classes.active),setTimeout(()=>i.publish(i.STATE_CHANGED+s,s,!0))),c(e)&&this.menu.updateMenuItem(s,{checked:t})}buttonClicked(e){const t=e.dataAttr("key");let s=c(e);const a=a=>{void 0===a&&(a=e.hasClass(o.classes.active)),a?(e.removeClass(o.classes.active),s&&(d.previousKey=t)):e.addClass(o.classes.active),a=!a,d[t]=a,i.publish(i.STATE_CHANGED+t,t,a),s&&this.menu.updateMenuItem(t,{checked:a})};if(s){const t=this.toolbar.hasClass(o.classes.docked);for(let t of this.buttons)if(c(t)&&e.id!==t.id){const e=t.dataAttr("key");d[e]&&(d[e]=!1),t.hasClass(o.classes.active)&&(t.removeClass("active"),i.publish(i.STATE_CHANGED+e,e,!1),this.menu.updateMenuItem(e,{checked:!1}))}t?a(!1):a(),e.hasClass(o.classes.active)?i.publish(i.STATE_CHANGED_ON):i.publish(i.STATE_CHANGED_OFF)}else a()}}}],'app/_sys/pubsub': [["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={},E={};t.subscribe=((e,t,n)=>{const T=e=>{let T=s[e];T||(T=s[e]=[]);const a=(e+t).hashCode();if(n){if(!E[a])return E[a]=!0,s[e].push(t)-1}else E[a]=!0,s[e].push(t);return a};if(!(e instanceof Array))return T(e);for(let t of e)T(t)}),t.publish=((e,...t)=>{const E=e=>{const E=s[e];if(E)for(let e of E)e(...t)};if(e instanceof Array)for(let t of e)E(t);else E(e)}),t.unsubscribe=((e,t)=>{let E=s[e];return!!E&&(E.splice(t,1),!0)}),t.STATE_CHANGED_ON="state/changed/on/",t.STATE_CHANGED_OFF="state/changed/off/",t.STATE_CHANGED="state/changed/",t.STATE_CHANGED_SCRIPTS="state/changed/scripts",t.STATE_CHANGED_TABLES="state/changed/tables",t.STATE_CHANGED_VIEWS="state/changed/views",t.STATE_CHANGED_ROUTINES="state/changed/routines",t.STATE_CHANGED_SEARCH="state/changed/search",t.SIDEBAR_DOCKED="sidebar/docked/",t.SIDEBAR_UNDOCKED="sidebar/undocked/",t.CLOSE_CONTEXT_MENU="context-menu/close/",t.SET_APP_STATUS="app/status/",t.API_INITIAL="api/initial/",t.SCHEMA_CHANGED="app/schema/",t.ITEM_COUNT_CHANGED="item/count/",t.SPLITTER_CHANGED="splitter/changed",t.TAB_SELECTED="tab/selected",t.TAB_UNSELECTED="tab/unselected",t.SCRIPT_UPDATED="script/updated",t.CONNECTION_SET="connection/set"}],'app/_sys/storage': [["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s="pgcode";class r{constructor(){this.dict={},this.storage=localStorage}clear(){throw new Error("Method not implemented.")}key(e){throw new Error("Method not implemented.")}getItem(e){let t=this.dict[e];if(void 0===t){if(null===(t=this.storage.getItem(e)))return null;this.dict[e]=t}return t}setItem(e,t){this.storage.setItem(e,t),this.dict[e]=t}removeItem(e){this.storage.removeItem(e),delete this.dict[e]}}t.default=class{constructor(e,t="",s=((e,t)=>t),i=((e,t)=>t),o=new r){this._storage=new r,this._names=new Array,this._storage=o,this._namespace=t,this._get=s,this._set=i;for(let[t,s]of Object.entries(e))this.create(t,s)}get storageKeys(){return this._names}create(e,t){let s=this.getName(e);return Object.defineProperty(this,e,{get:()=>{const r=this._storage.getItem(s);return null===r&&void 0!==t?t:this._get(e,r)},set:t=>{null===t?this._storage.removeItem(s):this._storage.setItem(s,this._set(e,t))}}),this._names.push(e),this}getName(e){return this._namespace?`${s}.${this._namespace}.${e}`:`${s}.${e}`}}}],'app/_sys/timeout': [["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={};t.timeout=((e,t,o)=>{let u=i[o];u&&(clearTimeout(u),i[o]=void 0),i[o]=setTimeout(()=>{e(),clearTimeout(i[o]),i[o]=void 0},t)}),t.timeoutAsync=((e,t,o)=>{let u=i[o];u&&(clearTimeout(u),i[o]=void 0),i[o]=setTimeout(async()=>{await e(),clearTimeout(i[o]),i[o]=void 0},t)})}],}});!function(){try{Function("() => {};"),window.customElements.get("test")}catch(r){throw"update your browser!"}const r={urlArgs:"0.0.0.3",baseUrl:"",paths:{vs:"libs/monaco-editor/min/vs"}},e=()=>void 0!=window.require,o=()=>{};e()?(require.config(r),require(["js/_main"],o)):((e,o)=>{let n=document.createElement("script");n.async=!0,n.src=e+(r.urlArgs?"?"+r.urlArgs:""),n.onload=o,n.onerror=o,document.body.appendChild(n)})("js/loader/loader.js",()=>{if(e())return require.config(r),void require(["js/_main"],o);console.warn("Failed to load module loader.")})}();